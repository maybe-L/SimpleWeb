<!-- templates/setup.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Set Up Your Website</title>
</head>
<body>
    <h1>Set Up Your Website</h1>

    <!-- 플래시 메시지 표시 -->
    {% with messages = get_flashed_messages() %}
        {% if messages %}
            <ul>
                {% for message in messages %}
                    <li>{{ message }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    {% endwith %}

    <!-- 웹사이트 설정 폼 -->
    <form method="POST" action="/setup-website">
        <label for="website-url"><h3>Website Address:</h3>www.collegeprofile.com/</label>
        <input type="text" id="website-url" name="website-url" placeholder="Enter your website URL">
        <br><br>
        <label for="website-name"><h3>Website name</h3>that appears at top of your website.</label>
        <input type="text" id="website-name" name="website-name" placeholder="Enter your website name">
        <br><br>

        <h3>Choose Menu Items:</h3>
        <div>
            <label for="menu-name-1">Menu 1 Name:</label>
            <input type="text" id="menu-name-1" name="menu-name-1" placeholder="Enter name for Menu 1">
            <label for="menu-type-1">Type:</label>
            <select id="menu-type-1" name="menu-type-1">
                <option value="list">List</option>
                <option value="gallery">Gallery</option>
            </select>
        </div>
        <br>
        <div>
            <label for="menu-name-2">Menu 2 Name:</label>
            <input type="text" id="menu-name-2" name="menu-name-2" placeholder="Enter name for Menu 2">
            <label for="menu-type-2">Type:</label>
            <select id="menu-type-2" name="menu-type-2">
                <option value="list">List</option>
                <option value="gallery">Gallery</option>
            </select>
        </div>
        <br>
        <div>
            <label for="menu-name-3">Menu 3 Name:</label>
            <input type="text" id="menu-name-3" name="menu-name-3" placeholder="Enter name for Menu 3">
            <label for="menu-type-3">Type:</label>
            <select id="menu-type-3" name="menu-type-3">
                <option value="list">List</option>
                <option value="gallery">Gallery</option>
            </select>
        </div>
        <br>
        <div>
            <label for="menu-name-4">Menu 4 Name:</label>
            <input type="text" id="menu-name-4" name="menu-name-4" placeholder="Enter name for Menu 4">
            <label for="menu-type-4">Type:</label>
            <select id="menu-type-4" name="menu-type-4">
                <option value="list">List</option>
                <option value="gallery">Gallery</option>
            </select>
        </div>
        <br>
        <div>
            <label for="menu-name-5">Menu 5 Name:</label>
            <input type="text" id="menu-name-5" name="menu-name-5" placeholder="Enter name for Menu 5">
            <label for="menu-type-5">Type:</label>
            <select id="menu-type-5" name="menu-type-5">
                <option value="list">List</option>
                <option value="gallery">Gallery</option>
            </select>
            <br><br>
            <label for="menu-design-{{ i }}"><h3>Design:</h3></label>
            <select id="menu-design-{{ i }}" name="menu-design-{{ i }}">
                <option value="design1">Design 1</option>
                <option value="design2">Design 2</option>
                <option value="design3">Design 3</option>
            </select>
        </div>
        <br><br>

        <button type="submit"><h3> Set Up My Website </h3></button>
    </form>
    <br><br>
    <a href="{{ url_for('main.index') }}">Go to Homepage</a>
</body>
</html>



메인 페이지


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ website_data.website_name }}</title>
    <style>
        /* 기본 네비게이션 메뉴 스타일 */
        nav {
            position: absolute;
            top: 20px;
            right: 20px;
        }

        nav ul {
            list-style: none;
        }

        nav ul li {
            display: inline;
            margin-left: 15px;
        }

        nav ul li a {
            text-decoration: none;
            font-weight: bold;
            color: black;
        }

        /* 섬네일 리스트 aside 스타일 */
        aside {
            position: fixed;
            left: 0;
            top: 0;
            width: 150px;
            height: 100%;
            background-color: #f4f4f4;
            padding: 10px;
            display: none;
        }

        aside img {
            display: block;
            margin-bottom: 10px;
            width: 100px;
            height: auto;
        }

        /* 에디트 모드에서 섬네일 리스트 표시 */
        .edit-mode aside {
            display: block;
        }

        /* 메인 컨텐츠가 aside에 의해 가려지지 않도록 조정 */
        .edit-mode main, .edit-mode header {
            margin-left: 170px; /* aside 넓이 + 여백 */
        }

        main {
            padding: 20px;
        }

        header {
            padding: 20px;
        }
    </style>
</head>
<body>
    <header>
        <h1>{{ website_data.website_name }}</h1>
        <p>Welcome to {{ website_data.website_name }}! This is your main page.</p>

        <!-- 네비게이션 메뉴 목록 추가 -->
        <nav>
            <ul>
                {% for i in range(1, 6) %}
                    {% set menu_name = website_data['menu' + i|string + '_name'] %}
                    {% if menu_name %}
                        <li>
                            <a href="{{ url_for('main.menu_page', website_url=website_data.website_url, menu_name=menu_name|lower) }}">
                                {{ menu_name }}
                            </a>
                        </li>
                    {% endif %}
                {% endfor %}
            </ul>
        </nav>

        <!-- Edit 버튼 추가 -->
        {% if current_user.is_authenticated and current_user.id == website_data.user_id %}
        <button id="edit-button">Edit</button>
        {% endif %}
    </header>
    
    <!-- 메인 콘텐츠 섹션 -->
    <main>
        <section>
            <h2>About Me</h2>

            <!-- 프로필 사진 업로드 및 표시 -->
            <img id="profile-photo" src="{{ website_data.profile_photo_url }}" alt="Profile Photo" width="150" height="150">
            
            <!-- 유저 자기소개 -->
            <p>{{ website_data.about_me }}</p> <!-- 간단한 자기소개 -->
        </section>
    </main>

    <!-- 에디터 모드에서 나오는 섬네일 리스트 -->
    <aside id="thumbnail-list">
        <h3>Pages</h3>
        <ul>
            <li><img src="main_thumbnail.jpg" alt="Main Page" /><a href="#">Main Page</a></li>
            {% for i in range(1, 6) %}
                {% set menu_name = website_data['menu' + i|string + '_name'] %}
                {% if menu_name %}
                <li>
                    <img src="{{ 'thumbnail_' + menu_name + '.jpg' }}" alt="{{ menu_name }}">
                    <a href="{{ url_for('main.editor', website_id=website_data.id, menu_name=menu_name) }}">{{ menu_name }}</a>
                </li>
                {% endif %}
            {% endfor %}
        </ul>
    </aside>

    <script>
        // 에디팅 모드 활성화 스크립트
        const editButton = document.getElementById('edit-button');
        const body = document.body;
        
        editButton.addEventListener('click', () => {
            body.classList.toggle('edit-mode');
        });
    </script>
</body>
</html>

새 메인페이지

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ website_data.website_name }}</title>
    <style>
        /* 어드민 바 스타일 */
        #admin-bar {
            background-color: #333;
            color: white;
            padding: 10px;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            text-align: center;
        }

        #admin-bar button {
            background-color: #444;
            color: white;
            border: none;
            padding: 8px 16px;
            margin-left: 10px;
            cursor: pointer;
        }

        #admin-bar button:hover {
            background-color: #666;
        }

        /* 헤더 스타일 */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            margin-top: 60px; /* 어드민 바 공간 확보 */
        }

        /* 네비게이션 메뉴 스타일 */
        nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        nav ul li {
            display: inline;
            margin-left: 15px;
        }

        nav ul li a {
            text-decoration: none;
            font-weight: bold;
            color: black;
        }

        /* 섬네일 리스트 aside 스타일 */
        aside {
            position: fixed;
            left: 0;
            top: 0;
            width: 150px;
            height: 100%;
            background-color: #f4f4f4;
            padding: 10px;
            display: none;
        }

        aside img {
            display: block;
            margin-bottom: 10px;
            width: 100px;
            height: auto;
        }

        /* 에디트 모드에서 aside 표시 */
        .edit-mode aside {
            display: block;
        }

        /* aside 표시 시 메인 컨텐츠 조정 */
        .edit-mode main, .edit-mode header {
            margin-left: 170px; /* aside 넓이 + 여백 */
        }

        main {
            padding: 20px;
        }
    </style>
</head>
<body>
    <!-- 어드민 바 -->
    {% if current_user.is_authenticated and current_user.id == website_data.user_id %}
    <div id="admin-bar">
        <span>Admin Mode</span>
        <button id="edit-button">Edit</button>
        <button id="save-button" style="display: none;">Save</button>
        <button onclick="window.location.href='{{ url_for('main.user_website', website_url=website_data.website_url) }}'">View Website</button>
    </div>
    {% endif %}

    <header>
        <h1>{{ website_data.website_name }}</h1>

        <!-- 네비게이션 메뉴 목록 -->
        <nav>
            <ul>
                {% for i in range(1, 6) %}
                    {% set menu_name = website_data['menu' + i|string + '_name'] %}
                    {% if menu_name %}
                        <li>
                            <a href="{{ url_for('main.menu_page', website_url=website_data.website_url, menu_name=menu_name|lower) }}">
                                {{ menu_name }}
                            </a>
                        </li>
                    {% endif %}
                {% endfor %}
            </ul>
        </nav>
    </header>
    
    <main>
        <section>
            <h2>About Me</h2>

            <!-- 프로필 사진 -->
            <img id="profile-photo" src="{{ website_data.profile_photo_url }}" alt="Profile Photo" width="150" height="150">
            
            <!-- 유저 자기소개 -->
            <p>{{ website_data.about_me }}</p>
        </section>
    </main>

    <!-- 에디터 모드에서 나오는 섬네일 리스트 -->
    <aside id="thumbnail-list">
        <h3>Pages</h3>
        <ul>
            <li><img src="main_thumbnail.jpg" alt="Main Page" /><a href="#">Main Page</a></li>
            {% for i in range(1, 6) %}
                {% set menu_name = website_data['menu' + i|string + '_name'] %}
                {% if menu_name %}
                <li>
                    <img src="{{ 'thumbnail_' + menu_name + '.jpg' }}" alt="{{ menu_name }}">
                    <a href="{{ url_for('main.editor', website_id=website_data.id, menu_name=menu_name) }}">{{ menu_name }}</a>
                </li>
                {% endif %}
            {% endfor %}
        </ul>
    </aside>

    <script>
        // 에디트 버튼과 저장 버튼 기능
        const editButton = document.getElementById('edit-button');
        const saveButton = document.getElementById('save-button');
        const body = document.body;
        
        editButton.addEventListener('click', () => {
            body.classList.toggle('edit-mode');
            editButton.style.display = 'none';
            saveButton.style.display = 'inline-block';
        });

        saveButton.addEventListener('click', () => {
            alert("Changes saved!");
            editButton.style.display = 'inline-block';
            saveButton.style.display = 'none';
            body.classList.remove('edit-mode');
        });
    </script>
</body>
</html>
